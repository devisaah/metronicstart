<%- model_class = Permissao -%>

var content = "<%= escape_javascript(render partial: 'shared/modal', locals: {
    modal_class: 'modal_edit_permissao',
    modal_id: "modal_edit_permissao_#{@permissao.id.to_s}",
    modal_title: t('helpers.titles.edit', :model => model_class.model_name.human.titleize),
    modal_body: render(partial: 'permissoes/form', locals: {remote: 'true'}),
    modal_buttons: render(partial: 'permissoes/form_actions')
  })%>";

if (<%= @permissao.errors.any? %>) {
  $("#modal_edit_permissao_<%= @permissao.id.to_s %>").modal('remove');
}
$(".modals").append(content);
$("#modal_edit_permissao_<%= @permissao.id.to_s %>").modal('show');