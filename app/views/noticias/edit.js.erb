<%- model_class = Noticia -%>

var content = "<%= escape_javascript(render partial: 'shared/modal', locals: {
    modal_class: 'modal_edit_noticia',
    modal_id: "modal_edit_noticia_#{@noticia.id.to_s}",
    modal_title: t('helpers.titles.edit', :model => model_class.model_name.human.titleize),
    modal_body: render(partial: 'noticias/form', locals: {remote: 'true'}),
    modal_buttons: render(partial: 'noticias/form_actions')
  })%>";

if (<%= @noticia.errors.any? %>) {
  $("#modal_edit_noticia_<%= @noticia.id.to_s %>").modal('remove');
}
$(".modals").append(content);
$("#modal_edit_noticia_<%= @noticia.id.to_s %>").modal('show');